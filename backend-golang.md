<p align="center">
    <img src="https://www.clipartmax.com/png/full/470-4708465_the-mascot-literally-looks-like-its-either-vision-gopher-golang.png" width="200px"/>
</p>

# Тестовое задание Golang Backend разработчик - GoodWords

По результатам выполнения задания будут оценены следующие аспекты:
- Умение укладываться в дедлайны
- Знание основ языка Golang
- Умение применять знания об асинхронном программировании
- Соответствие результата изначальному заданию
- Знание библиотек для решения разного рода проблем
- Подходы к созданию архитектуры приложения

## Описание приложения
Сервис GoodWords решает распространенную проблему публичных приложений - находит выражения, содержащие запрещенные слова. 

В конфигурации приложения присутствует список слов, которые являются запрещенными в некотором контексте. Именно этот список содержит слова, которые предстоит находить сервису среди текста, полученного с других сервисов.

## Конфигурация
Конфигурация приложения приложения состоит из:
- Список запрещенных слов
- Список эндпоинтов, на которые обращается сервис для получения выражений. У каждого эндпоинта есть настройки, касающиеся запроса: название, время ожидания запроса, количество ретраев и формат возвращаемых данных(array или text)

Способ, язык и дополнительные данные для конфигурации выбираются кандидатом самостоятельно.

## Описание работы сервиса
При запуске сервиса некий обработчик посылает запросы на эндпоинты, перечисленные в конфигурации, и получает в ответ выражения в одном из двух вариантов: в виде массива(array) и в виде единого текста(text). Полученные выражения анализируются, и формируется отчет о найденных запрещенных словах. Когда все эндпоинты обработаны, приложение завершает свою работу.
В случае, если количество ретраев на эндпоинт закончилось, проверка других эндпоинтов продолжается штатно.

Приложение должно быть нечувствительным к регистру: `bad golang` должно находиться в `Bad GoLang`.

Не требуется написание супер оптимизированного и мощного алгоритма нахождения подстроки, но является плюсом, если оптимизация уместна заявленным требованиям.

Работа с эндпоинтами должна быть **асинхронной**, будут оценены способности кандидата синхронизировать работу горутин.

## Требования к стеку
- Язык программирования: Golang
- Логгирование: [zap](https://github.com/uber-go/zap)

Все остальные инструменты на усмотрение кандидата

Для сервиса должен быть описан Dockerfile, который должен запускаться и корректно работать!
## Входные данные
### Выражения в формате array
```json
[
    "Lorem ipsum dolor sit amet, consectetur adipiscing elit",
    "sed do eiusmod tempor incididunt ut labore et dolore magna aliqua",
    "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat"
]
```

### Выражения в формате text
```json
"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat"
```

## Выходные данные
В папке `/output` создается файл с названием UNIX(например, `1741622536.json`) временем, когда отчет создается.

По ключу(название эндпоинта) должны храниться поля:
- `total_count` - общее количество найденных запрещенных слов
- `words` - массив для хранения данных со словами

Объект в `words` в случае text:
- `word` - само слово
- `index` - индекс первого символа вхождения этого слова в текст

Объект в `words` в случае array:
- `word` - само слово
- `expr_index` - индекс выражения в массиве, полученном из эндпоинта
- `index` - индекс первого символа вхождения этого слова в выражении

В случае ошибки обработки эндпоинта по ключу следует располагать сообщение об ошибке.

### Пример выходных данных:
```json
{
    "wikipedia": {
        "total_count": 3,
        "words":[
            {
                "word": "python",
                "index": 3
            },
            {
                "word": "pythonist",
                "index": 15
            },
            {
                "word": "love python",
                "index": 90
            }
        ]
    },
    "pip": {
        "total_count": 2,
        "words":[
            {
                "word": "bad gopher",
                "expr_index": 0,
                "index": 13
            },
            {
                "word": "slow golang",
                "expr_index": 2,
                "index": 5
            }
        ]
    },
    "vk": "too many attempts"
}
```

## Тестирование
Должны быть протестированы 3 варианта записи в отчет, чтение из разных эндпоинтов.

Кандидатом должен быть написан тестовый сервер/серверы для имитации эндпоинтов. 

Все тесты должны запускаться с помощью `go test` без сторонних зависимостей.
